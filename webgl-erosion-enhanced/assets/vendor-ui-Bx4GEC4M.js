function oe(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var U={exports:{}},le=U.exports,$;function ue(){return $||($=1,(function(d,_){(function(n,t){d.exports=t()})(le,function(){var n=function(){var t=0,a=document.createElement("div");function r(v){return a.appendChild(v.dom),v}function c(v){for(var h=0;h<a.children.length;h++)a.children[h].style.display=h===v?"block":"none";t=v}a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",function(v){v.preventDefault(),c(++t%a.children.length)},!1);var e=(performance||Date).now(),s=e,o=0,l=r(new n.Panel("FPS","#0ff","#002")),p=r(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var g=r(new n.Panel("MB","#f08","#201"));return c(0),{REVISION:16,dom:a,addPanel:r,showPanel:c,begin:function(){e=(performance||Date).now()},end:function(){o++;var v=(performance||Date).now();if(p.update(v-e,200),s+1e3<=v&&(l.update(1e3*o/(v-s),100),s=v,o=0,g)){var h=performance.memory;g.update(h.usedJSHeapSize/1048576,h.jsHeapSizeLimit/1048576)}return v},update:function(){e=this.end()},domElement:a,setMode:c}};return n.Panel=function(t,a,r){var c=1/0,e=0,s=Math.round,o=s(window.devicePixelRatio||1),l=80*o,p=48*o,g=3*o,v=2*o,h=3*o,b=15*o,A=74*o,k=30*o,N=document.createElement("canvas");N.width=l,N.height=p,N.style.cssText="width:80px;height:48px";var E=N.getContext("2d");return E.font="bold "+9*o+"px Helvetica,Arial,sans-serif",E.textBaseline="top",E.fillStyle=r,E.fillRect(0,0,l,p),E.fillStyle=a,E.fillText(t,g,v),E.fillRect(h,b,A,k),E.fillStyle=r,E.globalAlpha=.9,E.fillRect(h,b,A,k),{dom:N,update:function(C,L){c=Math.min(c,C),e=Math.max(e,C),E.fillStyle=r,E.globalAlpha=1,E.fillRect(0,0,l,b),E.fillStyle=a,E.fillText(s(C)+" "+t+" ("+s(c)+"-"+s(e)+")",g,v),E.drawImage(N,h+o,b,A-o,k,h,b,A-o,k),E.fillRect(h+A-o,b,o,k),E.fillStyle=r,E.globalAlpha=.9,E.fillRect(h+A-o,b,o,s((1-C/L)*k))}}},n})})(U)),U.exports}var de=ue();const _e=oe(de);var G={exports:{}},Y={exports:{}},ee;function fe(){if(ee)return Y.exports;ee=1;var d=Y.exports=d||{};return d.gui=d.gui||{},d.utils=d.utils||{},d.controllers=d.controllers||{},d.dom=d.dom||{},d.color=d.color||{},d.utils.css=(function(){return{load:function(_,n){n=n||document;var t=n.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=_,n.getElementsByTagName("head")[0].appendChild(t)},inject:function(_,n){n=n||document;var t=document.createElement("style");t.type="text/css",t.innerHTML=_,n.getElementsByTagName("head")[0].appendChild(t)}}})(),d.utils.common=(function(){var _=Array.prototype.forEach,n=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(n.call(arguments,1),function(a){for(var r in a)this.isUndefined(a[r])||(t[r]=a[r])},this),t},defaults:function(t){return this.each(n.call(arguments,1),function(a){for(var r in a)this.isUndefined(t[r])&&(t[r]=a[r])},this),t},compose:function(){var t=n.call(arguments);return function(){for(var a=n.call(arguments),r=t.length-1;r>=0;r--)a=[t[r].apply(this,a)];return a[0]}},each:function(t,a,r){if(_&&t.forEach===_)t.forEach(a,r);else if(t.length===t.length+0){for(var c=0,e=t.length;c<e;c++)if(c in t&&a.call(r,t[c],c)===this.BREAK)return}else for(var c in t)if(a.call(r,t[c],c)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():n.call(t)},isUndefined:function(t){return t===void 0},isNull:function(t){return t===null},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return Object.prototype.toString.call(t)==="[object Function]"}}})(),d.controllers.Controller=(function(_){var n=function(t,a){this.initialValue=t[a],this.domElement=document.createElement("div"),this.object=t,this.property=a,this.__onChange=void 0,this.__onFinishChange=void 0};return _.extend(n.prototype,{onChange:function(t){return this.__onChange=t,this},onFinishChange:function(t){return this.__onFinishChange=t,this},setValue:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),n})(d.utils.common),d.dom.dom=(function(_){var n={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},t={};_.each(n,function(e,s){_.each(e,function(o){t[o]=s})});var a=/(\d+(\.\d+)?)px/;function r(e){if(e==="0"||_.isUndefined(e))return 0;var s=e.match(a);return _.isNull(s)?0:parseFloat(s[1])}var c={makeSelectable:function(e,s){e===void 0||e.style===void 0||(e.onselectstart=s?function(){return!1}:function(){},e.style.MozUserSelect=s?"auto":"none",e.style.KhtmlUserSelect=s?"auto":"none",e.unselectable=s?"on":"off")},makeFullscreen:function(e,s,o){_.isUndefined(s)&&(s=!0),_.isUndefined(o)&&(o=!0),e.style.position="absolute",s&&(e.style.left=0,e.style.right=0),o&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,s,o,l){o=o||{};var p=t[s];if(!p)throw new Error("Event type "+s+" not supported.");var g=document.createEvent(p);switch(p){case"MouseEvents":var v=o.x||o.clientX||0,h=o.y||o.clientY||0;g.initMouseEvent(s,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,v,h,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var b=g.initKeyboardEvent||g.initKeyEvent;_.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),b(s,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:g.initEvent(s,o.bubbles||!1,o.cancelable||!0);break}_.defaults(g,l),e.dispatchEvent(g)},bind:function(e,s,o,l){return l=l||!1,e.addEventListener?e.addEventListener(s,o,l):e.attachEvent&&e.attachEvent("on"+s,o),c},unbind:function(e,s,o,l){return l=l||!1,e.removeEventListener?e.removeEventListener(s,o,l):e.detachEvent&&e.detachEvent("on"+s,o),c},addClass:function(e,s){if(e.className===void 0)e.className=s;else if(e.className!==s){var o=e.className.split(/ +/);o.indexOf(s)==-1&&(o.push(s),e.className=o.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return c},removeClass:function(e,s){if(s){if(e.className!==void 0)if(e.className===s)e.removeAttribute("class");else{var o=e.className.split(/ +/),l=o.indexOf(s);l!=-1&&(o.splice(l,1),e.className=o.join(" "))}}else e.className=void 0;return c},hasClass:function(e,s){return new RegExp("(?:^|\\s+)"+s+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var s=getComputedStyle(e);return r(s["border-left-width"])+r(s["border-right-width"])+r(s["padding-left"])+r(s["padding-right"])+r(s.width)},getHeight:function(e){var s=getComputedStyle(e);return r(s["border-top-width"])+r(s["border-bottom-width"])+r(s["padding-top"])+r(s["padding-bottom"])+r(s.height)},getOffset:function(e){var s={left:0,top:0};if(e.offsetParent)do s.left+=e.offsetLeft,s.top+=e.offsetTop;while(e=e.offsetParent);return s},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};return c})(d.utils.common),d.controllers.OptionController=(function(_,n,t){var a=function(r,c,e){a.superclass.call(this,r,c);var s=this;if(this.__select=document.createElement("select"),t.isArray(e)){var o={};t.each(e,function(l){o[l]=l}),e=o}t.each(e,function(l,p){var g=document.createElement("option");g.innerHTML=p,g.setAttribute("value",l),s.__select.appendChild(g)}),this.updateDisplay(),n.bind(this.__select,"change",function(){var l=this.options[this.selectedIndex].value;s.setValue(l)}),this.domElement.appendChild(this.__select)};return a.superclass=_,t.extend(a.prototype,_.prototype,{setValue:function(r){var c=a.superclass.prototype.setValue.call(this,r);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),c},updateDisplay:function(){return this.__select.value=this.getValue(),a.superclass.prototype.updateDisplay.call(this)}}),a})(d.controllers.Controller,d.dom.dom,d.utils.common),d.controllers.NumberController=(function(_,n){var t=function(r,c,e){t.superclass.call(this,r,c),e=e||{},this.__min=e.min,this.__max=e.max,this.__step=e.step,n.isUndefined(this.__step)?this.initialValue==0?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=a(this.__impliedStep)};t.superclass=_,n.extend(t.prototype,_.prototype,{setValue:function(r){return this.__min!==void 0&&r<this.__min?r=this.__min:this.__max!==void 0&&r>this.__max&&(r=this.__max),this.__step!==void 0&&r%this.__step!=0&&(r=Math.round(r/this.__step)*this.__step),t.superclass.prototype.setValue.call(this,r)},min:function(r){return this.__min=r,this},max:function(r){return this.__max=r,this},step:function(r){return this.__step=r,this}});function a(r){return r=r.toString(),r.indexOf(".")>-1?r.length-r.indexOf(".")-1:0}return t})(d.controllers.Controller,d.utils.common),d.controllers.NumberControllerBox=(function(_,n,t){var a=function(c,e,s){this.__truncationSuspended=!1,a.superclass.call(this,c,e,s);var o=this,l;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),n.bind(this.__input,"change",p),n.bind(this.__input,"blur",g),n.bind(this.__input,"mousedown",v),n.bind(this.__input,"keydown",function(A){A.keyCode===13&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1)});function p(){var A=parseFloat(o.__input.value);t.isNaN(A)||o.setValue(A)}function g(){p(),o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function v(A){n.bind(window,"mousemove",h),n.bind(window,"mouseup",b),l=A.clientY}function h(A){var k=l-A.clientY;o.setValue(o.getValue()+k*o.__impliedStep),l=A.clientY}function b(){n.unbind(window,"mousemove",h),n.unbind(window,"mouseup",b)}this.updateDisplay(),this.domElement.appendChild(this.__input)};a.superclass=_,t.extend(a.prototype,_.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():r(this.getValue(),this.__precision),a.superclass.prototype.updateDisplay.call(this)}});function r(c,e){var s=Math.pow(10,e);return Math.round(c*s)/s}return a})(d.controllers.NumberController,d.dom.dom,d.utils.common),d.controllers.NumberControllerSlider=(function(_,n,t,a,r){var c=function(s,o,l,p,g){c.superclass.call(this,s,o,{min:l,max:p,step:g});var v=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),n.bind(this.__background,"mousedown",h),n.addClass(this.__background,"slider"),n.addClass(this.__foreground,"slider-fg");function h(k){n.bind(window,"mousemove",b),n.bind(window,"mouseup",A),b(k)}function b(k){k.preventDefault();var N=n.getOffset(v.__background),E=n.getWidth(v.__background);return v.setValue(e(k.clientX,N.left,N.left+E,v.__min,v.__max)),!1}function A(){n.unbind(window,"mousemove",b),n.unbind(window,"mouseup",A),v.__onFinishChange&&v.__onFinishChange.call(v,v.getValue())}this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};c.superclass=_,c.useDefaultStyles=function(){t.inject(r)},a.extend(c.prototype,_.prototype,{updateDisplay:function(){var s=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=s*100+"%",c.superclass.prototype.updateDisplay.call(this)}});function e(s,o,l,p,g){return p+(g-p)*((s-o)/(l-o))}return c})(d.controllers.NumberController,d.dom.dom,d.utils.css,d.utils.common,`.slider {
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);
  height: 1em;
  border-radius: 1em;
  background-color: #eee;
  padding: 0 0.5em;
  overflow: hidden;
}

.slider-fg {
  padding: 1px 0 2px 0;
  background-color: #aaa;
  height: 1em;
  margin-left: -0.5em;
  padding-right: 0.5em;
  border-radius: 1em 0 0 1em;
}

.slider-fg:after {
  display: inline-block;
  border-radius: 1em;
  background-color: #fff;
  border:  1px solid #aaa;
  content: '';
  float: right;
  margin-right: -1em;
  margin-top: -1px;
  height: 0.9em;
  width: 0.9em;
}`),d.controllers.FunctionController=(function(_,n,t){var a=function(r,c,e){a.superclass.call(this,r,c);var s=this;this.__button=document.createElement("div"),this.__button.innerHTML=e===void 0?"Fire":e,n.bind(this.__button,"click",function(o){return o.preventDefault(),s.fire(),!1}),n.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return a.superclass=_,t.extend(a.prototype,_.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),a})(d.controllers.Controller,d.dom.dom,d.utils.common),d.controllers.BooleanController=(function(_,n,t){var a=function(r,c){a.superclass.call(this,r,c);var e=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),n.bind(this.__checkbox,"change",s,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay();function s(){e.setValue(!e.__prev)}};return a.superclass=_,t.extend(a.prototype,_.prototype,{setValue:function(r){var c=a.superclass.prototype.setValue.call(this,r);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),c},updateDisplay:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,a.superclass.prototype.updateDisplay.call(this)}}),a})(d.controllers.Controller,d.dom.dom,d.utils.common),d.color.toString=(function(_){return function(n){if(n.a==1||_.isUndefined(n.a)){for(var t=n.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}else return"rgba("+Math.round(n.r)+","+Math.round(n.g)+","+Math.round(n.b)+","+n.a+")"}})(d.utils.common),d.color.interpret=(function(_,n){var t,a,r=function(){a=!1;var e=arguments.length>1?n.toArray(arguments):arguments[0];return n.each(c,function(s){if(s.litmus(e))return n.each(s.conversions,function(o,l){if(t=o.read(e),a===!1&&t!==!1)return a=t,t.conversionName=l,t.conversion=o,n.BREAK}),n.BREAK}),a},c=[{litmus:n.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var s=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return s===null?!1:{space:"HEX",hex:parseInt("0x"+s[1].toString()+s[1].toString()+s[2].toString()+s[2].toString()+s[3].toString()+s[3].toString())}},write:_},SIX_CHAR_HEX:{read:function(e){var s=e.match(/^#([A-F0-9]{6})$/i);return s===null?!1:{space:"HEX",hex:parseInt("0x"+s[1].toString())}},write:_},CSS_RGB:{read:function(e){var s=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return s===null?!1:{space:"RGB",r:parseFloat(s[1]),g:parseFloat(s[2]),b:parseFloat(s[3])}},write:_},CSS_RGBA:{read:function(e){var s=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return s===null?!1:{space:"RGB",r:parseFloat(s[1]),g:parseFloat(s[2]),b:parseFloat(s[3]),a:parseFloat(s[4])}},write:_}}},{litmus:n.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:n.isArray,conversions:{RGB_ARRAY:{read:function(e){return e.length!=3?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return e.length!=4?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:n.isObject,conversions:{RGBA_OBJ:{read:function(e){return n.isNumber(e.r)&&n.isNumber(e.g)&&n.isNumber(e.b)&&n.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return n.isNumber(e.r)&&n.isNumber(e.g)&&n.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return n.isNumber(e.h)&&n.isNumber(e.s)&&n.isNumber(e.v)&&n.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return n.isNumber(e.h)&&n.isNumber(e.s)&&n.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return r})(d.color.toString,d.utils.common),d.GUI=d.gui.GUI=(function(_,n,t,a,r,c,e,s,o,l,p,g,v,h,b){_.inject(t);var A="dg",k=72,N=20,E="Default",C=(function(){try{return"localStorage"in window&&window.localStorage!==null}catch{return!1}})(),L,F=!0,R,D=!1,Q=[],m=function(i){var u=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),h.addClass(this.domElement,A),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],i=i||{},i=b.defaults(i,{autoPlace:!0,width:m.DEFAULT_WIDTH}),i=b.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),b.isUndefined(i.load)?i.load={preset:E}:i.preset&&(i.load.preset=i.preset),b.isUndefined(i.parent)&&i.hideable&&Q.push(this),i.resizable=b.isUndefined(i.parent)&&i.resizable,i.autoPlace&&b.isUndefined(i.scrollable)&&(i.scrollable=!0);var f=C&&localStorage.getItem(M(this,"isLocal"))==="true";if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},preset:{get:function(){return u.parent?u.getRoot().preset:i.load.preset},set:function(S){u.parent?u.getRoot().preset=S:i.load.preset=S,ae(this),u.revert()}},width:{get:function(){return i.width},set:function(S){i.width=S,X(u,S)}},name:{get:function(){return i.name},set:function(S){i.name=S,w&&(w.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(S){i.closed=S,i.closed?h.addClass(u.__ul,m.CLASS_CLOSED):h.removeClass(u.__ul,m.CLASS_CLOSED),this.onResize(),u.__closeButton&&(u.__closeButton.innerHTML=S?m.TEXT_OPEN:m.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return f},set:function(S){C&&(f=S,S?h.bind(window,"unload",T):h.unbind(window,"unload",T),localStorage.setItem(M(u,"isLocal"),S))}}}),b.isUndefined(i.parent)){if(i.closed=!1,h.addClass(this.domElement,m.CLASS_MAIN),h.makeSelectable(this.domElement,!1),C&&f){u.useLocalStorage=!0;var x=localStorage.getItem(M(this,"gui"));x&&(i.load=JSON.parse(x))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=m.TEXT_CLOSED,h.addClass(this.__closeButton,m.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),h.bind(this.__closeButton,"click",function(){u.closed=!u.closed})}else{i.closed===void 0&&(i.closed=!0);var w=document.createTextNode(i.name);h.addClass(w,"controller-name");var y=z(u,w),O=function(S){return S.preventDefault(),u.closed=!u.closed,!1};h.addClass(this.__ul,m.CLASS_CLOSED),h.addClass(y,"title"),h.bind(y,"click",O),i.closed||(this.closed=!1)}i.autoPlace&&(b.isUndefined(i.parent)&&(F&&(R=document.createElement("div"),h.addClass(R,A),h.addClass(R,m.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(R),F=!1),R.appendChild(this.domElement),h.addClass(this.domElement,m.CLASS_AUTO_PLACE)),this.parent||X(u,i.width)),h.bind(window,"resize",function(){u.onResize()}),h.bind(this.__ul,"webkitTransitionEnd",function(){u.onResize()}),h.bind(this.__ul,"transitionend",function(){u.onResize()}),h.bind(this.__ul,"oTransitionEnd",function(){u.onResize()}),this.onResize(),i.resizable&&re(this);function T(){localStorage.setItem(M(u,"gui"),JSON.stringify(u.getSaveObject()))}u.getRoot();function H(){var S=u.getRoot();S.width+=1,b.defer(function(){S.width-=1})}i.parent||H()};m.toggleHide=function(){D=!D,b.each(Q,function(i){i.domElement.style.zIndex=D?-999:999,i.domElement.style.opacity=D?0:1})},m.CLASS_AUTO_PLACE="a",m.CLASS_AUTO_PLACE_CONTAINER="ac",m.CLASS_MAIN="main",m.CLASS_CONTROLLER_ROW="cr",m.CLASS_TOO_TALL="taller-than-window",m.CLASS_CLOSED="closed",m.CLASS_CLOSE_BUTTON="close-button",m.CLASS_DRAG="drag",m.DEFAULT_WIDTH=245,m.TEXT_CLOSED="Close Controls",m.TEXT_OPEN="Open Controls",h.bind(window,"keydown",function(i){document.activeElement.type!=="text"&&(i.which===k||i.keyCode==k)&&m.toggleHide()},!1),b.extend(m.prototype,{add:function(i,u){return V(this,i,u,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(i,u){return V(this,i,u,{color:!0})},remove:function(i){this.__ul.removeChild(i.__li),this.__controllers.slice(this.__controllers.indexOf(i),1);var u=this;b.defer(function(){u.onResize()})},destroy:function(){this.autoPlace&&R.removeChild(this.domElement)},addFolder:function(i){if(this.__folders[i]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+i+'"');var u={name:i,parent:this};u.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[i]&&(u.closed=this.load.folders[i].closed,u.load=this.load.folders[i]);var f=new m(u);this.__folders[i]=f;var x=z(this,f.domElement);return h.addClass(x,"folder"),f},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var i=this.getRoot();if(i.scrollable){var u=h.getOffset(i.__ul).top,f=0;b.each(i.__ul.childNodes,function(x){i.autoPlace&&x===i.__save_row||(f+=h.getHeight(x))}),window.innerHeight-u-N<f?(h.addClass(i.domElement,m.CLASS_TOO_TALL),i.__ul.style.height=window.innerHeight-u-N+"px"):(h.removeClass(i.domElement,m.CLASS_TOO_TALL),i.__ul.style.height="auto")}i.__resize_handle&&b.defer(function(){i.__resize_handle.style.height=i.__ul.offsetHeight+"px"}),i.__closeButton&&(i.__closeButton.style.width=i.width+"px")},remember:function(){if(b.isUndefined(L)&&(L=new v,L.domElement.innerHTML=n),this.parent)throw new Error("You can only call remember on a top level GUI.");var i=this;b.each(Array.prototype.slice.call(arguments),function(u){i.__rememberedObjects.length==0&&se(i),i.__rememberedObjects.indexOf(u)==-1&&i.__rememberedObjects.push(u)}),this.autoPlace&&X(this,this.width)},getRoot:function(){for(var i=this;i.parent;)i=i.parent;return i},getSaveObject:function(){var i=this.load;return i.closed=this.closed,this.__rememberedObjects.length>0&&(i.preset=this.preset,i.remembered||(i.remembered={}),i.remembered[this.preset]=P(this)),i.folders={},b.each(this.__folders,function(u,f){i.folders[f]=u.getSaveObject()}),i},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=P(this),W(this,!1)},saveAs:function(i){this.load.remembered||(this.load.remembered={},this.load.remembered[E]=P(this,!0)),this.load.remembered[i]=P(this),this.preset=i,K(this,i,!0)},revert:function(i){b.each(this.__controllers,function(u){this.getRoot().load.remembered?q(i||this.getRoot(),u):u.setValue(u.initialValue)},this),b.each(this.__folders,function(u){u.revert(u)}),i||W(this.getRoot(),!1)},listen:function(i){var u=this.__listening.length==0;this.__listening.push(i),u&&j(this.__listening)}});function V(i,u,f,x){if(u[f]===void 0)throw new Error("Object "+u+' has no property "'+f+'"');var w;if(x.color)w=new p(u,f);else{var y=[u,f].concat(x.factoryArgs);w=a.apply(i,y)}x.before instanceof r&&(x.before=x.before.__li),q(i,w),h.addClass(w.domElement,"c");var O=document.createElement("span");h.addClass(O,"property-name"),O.innerHTML=w.property;var T=document.createElement("div");T.appendChild(O),T.appendChild(w.domElement);var H=z(i,T,x.before);return h.addClass(H,m.CLASS_CONTROLLER_ROW),h.addClass(H,typeof w.getValue()),ie(i,H,w),i.__controllers.push(w),w}function z(i,u,f){var x=document.createElement("li");return u&&x.appendChild(u),f?i.__ul.insertBefore(x,params.before):i.__ul.appendChild(x),i.onResize(),x}function ie(i,u,f){if(f.__li=u,f.__gui=i,b.extend(f,{options:function(y){if(arguments.length>1)return f.remove(),V(i,f.object,f.property,{before:f.__li.nextElementSibling,factoryArgs:[b.toArray(arguments)]});if(b.isArray(y)||b.isObject(y))return f.remove(),V(i,f.object,f.property,{before:f.__li.nextElementSibling,factoryArgs:[y]})},name:function(y){return f.__li.firstElementChild.firstElementChild.innerHTML=y,f},listen:function(){return f.__gui.listen(f),f},remove:function(){return f.__gui.remove(f),f}}),f instanceof o){var x=new s(f.object,f.property,{min:f.__min,max:f.__max,step:f.__step});b.each(["updateDisplay","onChange","onFinishChange"],function(y){var O=f[y],T=x[y];f[y]=x[y]=function(){var H=Array.prototype.slice.call(arguments);return O.apply(f,H),T.apply(x,H)}}),h.addClass(u,"has-slider"),f.domElement.insertBefore(x.domElement,f.domElement.firstElementChild)}else if(f instanceof s){var w=function(y){return b.isNumber(f.__min)&&b.isNumber(f.__max)?(f.remove(),V(i,f.object,f.property,{before:f.__li.nextElementSibling,factoryArgs:[f.__min,f.__max,f.__step]})):y};f.min=b.compose(w,f.min),f.max=b.compose(w,f.max)}else f instanceof c?(h.bind(u,"click",function(){h.fakeEvent(f.__checkbox,"click")}),h.bind(f.__checkbox,"click",function(y){y.stopPropagation()})):f instanceof e?(h.bind(u,"click",function(){h.fakeEvent(f.__button,"click")}),h.bind(u,"mouseover",function(){h.addClass(f.__button,"hover")}),h.bind(u,"mouseout",function(){h.removeClass(f.__button,"hover")})):f instanceof p&&(h.addClass(u,"color"),f.updateDisplay=b.compose(function(y){return u.style.borderLeftColor=f.__color.toString(),y},f.updateDisplay),f.updateDisplay());f.setValue=b.compose(function(y){return i.getRoot().__preset_select&&f.isModified()&&W(i.getRoot(),!0),y},f.setValue)}function q(i,u){var f=i.getRoot(),x=f.__rememberedObjects.indexOf(u.object);if(x!=-1){var w=f.__rememberedObjectIndecesToControllers[x];if(w===void 0&&(w={},f.__rememberedObjectIndecesToControllers[x]=w),w[u.property]=u,f.load&&f.load.remembered){var y=f.load.remembered,O;if(y[i.preset])O=y[i.preset];else if(y[E])O=y[E];else return;if(O[x]&&O[x][u.property]!==void 0){var T=O[x][u.property];u.initialValue=T,u.setValue(T)}}}}function M(i,u){return document.location.href+"."+u}function se(i){var u=i.__save_row=document.createElement("li");h.addClass(i.domElement,"has-save"),i.__ul.insertBefore(u,i.__ul.firstChild),h.addClass(u,"save-row");var f=document.createElement("span");f.innerHTML="&nbsp;",h.addClass(f,"button gears");var x=document.createElement("span");x.innerHTML="Save",h.addClass(x,"button"),h.addClass(x,"save");var w=document.createElement("span");w.innerHTML="New",h.addClass(w,"button"),h.addClass(w,"save-as");var y=document.createElement("span");y.innerHTML="Revert",h.addClass(y,"button"),h.addClass(y,"revert");var O=i.__preset_select=document.createElement("select");if(i.load&&i.load.remembered?b.each(i.load.remembered,function(B,Z){K(i,Z,Z==i.preset)}):K(i,E,!1),h.bind(O,"change",function(){for(var B=0;B<i.__preset_select.length;B++)i.__preset_select[B].innerHTML=i.__preset_select[B].value;i.preset=this.value}),u.appendChild(O),u.appendChild(f),u.appendChild(x),u.appendChild(w),u.appendChild(y),C){let B=function(){H.style.display=i.useLocalStorage?"block":"none"};var T=document.getElementById("dg-save-locally"),H=document.getElementById("dg-local-explain");T.style.display="block";var S=document.getElementById("dg-local-storage");localStorage.getItem(M(i,"isLocal"))==="true"&&S.setAttribute("checked","checked"),B(),h.bind(S,"change",function(){i.useLocalStorage=!i.useLocalStorage,B()})}var I=document.getElementById("dg-new-constructor");h.bind(I,"keydown",function(B){B.metaKey&&(B.which===67||B.keyCode==67)&&L.hide()}),h.bind(f,"click",function(){I.innerHTML=JSON.stringify(i.getSaveObject(),void 0,2),L.show(),I.focus(),I.select()}),h.bind(x,"click",function(){i.save()}),h.bind(w,"click",function(){var B=prompt("Enter a new preset name.");B&&i.saveAs(B)}),h.bind(y,"click",function(){i.revert()})}function re(i){i.__resize_handle=document.createElement("div"),b.extend(i.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var u;h.bind(i.__resize_handle,"mousedown",f),h.bind(i.__closeButton,"mousedown",f),i.domElement.insertBefore(i.__resize_handle,i.domElement.firstElementChild);function f(y){return y.preventDefault(),u=y.clientX,h.addClass(i.__closeButton,m.CLASS_DRAG),h.bind(window,"mousemove",x),h.bind(window,"mouseup",w),!1}function x(y){return y.preventDefault(),i.width+=u-y.clientX,i.onResize(),u=y.clientX,!1}function w(){h.removeClass(i.__closeButton,m.CLASS_DRAG),h.unbind(window,"mousemove",x),h.unbind(window,"mouseup",w)}}function X(i,u){i.domElement.style.width=u+"px",i.__save_row&&i.autoPlace&&(i.__save_row.style.width=u+"px"),i.__closeButton&&(i.__closeButton.style.width=u+"px")}function P(i,u){var f={};return b.each(i.__rememberedObjects,function(x,w){var y={},O=i.__rememberedObjectIndecesToControllers[w];b.each(O,function(T,H){y[H]=u?T.initialValue:T.getValue()}),f[w]=y}),f}function K(i,u,f){var x=document.createElement("option");x.innerHTML=u,x.value=u,i.__preset_select.appendChild(x),f&&(i.__preset_select.selectedIndex=i.__preset_select.length-1)}function ae(i){for(var u=0;u<i.__preset_select.length;u++)i.__preset_select[u].value==i.preset&&(i.__preset_select.selectedIndex=u)}function W(i,u){var f=i.__preset_select[i.__preset_select.selectedIndex];u?f.innerHTML=f.value+"*":f.innerHTML=f.value}function j(i){i.length!=0&&g(function(){j(i)}),b.each(i,function(u){u.updateDisplay()})}return m})(d.utils.css,`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.
      
    </div>
    
  </div>

</div>`,`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`,d.controllers.factory=(function(_,n,t,a,r,c,e){return function(s,o){var l=s[o];if(e.isArray(arguments[2])||e.isObject(arguments[2]))return new _(s,o,arguments[2]);if(e.isNumber(l))return e.isNumber(arguments[2])&&e.isNumber(arguments[3])?new t(s,o,arguments[2],arguments[3]):new n(s,o,{min:arguments[2],max:arguments[3]});if(e.isString(l))return new a(s,o);if(e.isFunction(l))return new r(s,o,"");if(e.isBoolean(l))return new c(s,o)}})(d.controllers.OptionController,d.controllers.NumberControllerBox,d.controllers.NumberControllerSlider,d.controllers.StringController=(function(_,n,t){var a=function(r,c){a.superclass.call(this,r,c);var e=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),n.bind(this.__input,"keyup",s),n.bind(this.__input,"change",s),n.bind(this.__input,"blur",o),n.bind(this.__input,"keydown",function(l){l.keyCode===13&&this.blur()});function s(){e.setValue(e.__input.value)}function o(){e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}this.updateDisplay(),this.domElement.appendChild(this.__input)};return a.superclass=_,t.extend(a.prototype,_.prototype,{updateDisplay:function(){return n.isActive(this.__input)||(this.__input.value=this.getValue()),a.superclass.prototype.updateDisplay.call(this)}}),a})(d.controllers.Controller,d.dom.dom,d.utils.common),d.controllers.FunctionController,d.controllers.BooleanController,d.utils.common),d.controllers.Controller,d.controllers.BooleanController,d.controllers.FunctionController,d.controllers.NumberControllerBox,d.controllers.NumberControllerSlider,d.controllers.OptionController,d.controllers.ColorController=(function(_,n,t,a,r){var c=function(l,p){c.superclass.call(this,l,p),this.__color=new t(this.getValue()),this.__temp=new t(0);var g=this;this.domElement=document.createElement("div"),n.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",n.bind(this.__input,"keydown",function(C){C.keyCode===13&&A.call(this)}),n.bind(this.__input,"blur",A),n.bind(this.__selector,"mousedown",function(C){n.addClass(this,"drag").bind(window,"mouseup",function(L){n.removeClass(g.__selector,"drag")})});var v=document.createElement("div");r.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),r.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),r.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),r.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),r.extend(v.style,{width:"100%",height:"100%",background:"none"}),s(v,"top","rgba(0,0,0,0)","#000"),r.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),o(this.__hue_field),r.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),n.bind(this.__saturation_field,"mousedown",h),n.bind(this.__field_knob,"mousedown",h),n.bind(this.__hue_field,"mousedown",function(C){E(C),n.bind(window,"mousemove",E),n.bind(window,"mouseup",k)});function h(C){N(C),n.bind(window,"mousemove",N),n.bind(window,"mouseup",b)}function b(){n.unbind(window,"mousemove",N),n.unbind(window,"mouseup",b)}function A(){var C=a(this.value);C!==!1?(g.__color.__state=C,g.setValue(g.__color.toOriginal())):this.value=g.__color.toString()}function k(){n.unbind(window,"mousemove",E),n.unbind(window,"mouseup",k)}this.__saturation_field.appendChild(v),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay();function N(C){C.preventDefault();var L=n.getWidth(g.__saturation_field),F=n.getOffset(g.__saturation_field),R=(C.clientX-F.left+document.body.scrollLeft)/L,D=1-(C.clientY-F.top+document.body.scrollTop)/L;return D>1?D=1:D<0&&(D=0),R>1?R=1:R<0&&(R=0),g.__color.v=D,g.__color.s=R,g.setValue(g.__color.toOriginal()),!1}function E(C){C.preventDefault();var L=n.getHeight(g.__hue_field),F=n.getOffset(g.__hue_field),R=1-(C.clientY-F.top+document.body.scrollTop)/L;return R>1?R=1:R<0&&(R=0),g.__color.h=R*360,g.setValue(g.__color.toOriginal()),!1}};c.superclass=_,r.extend(c.prototype,_.prototype,{updateDisplay:function(){var l=a(this.getValue());if(l!==!1){var p=!1;r.each(t.COMPONENTS,function(h){if(!r.isUndefined(l[h])&&!r.isUndefined(this.__color.__state[h])&&l[h]!==this.__color.__state[h])return p=!0,{}},this),p&&r.extend(this.__color.__state,l)}r.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var g=this.__color.v<.5||this.__color.s>.5?255:0,v=255-g;r.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+g+","+g+","+g+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,s(this.__saturation_field,"left","#fff",this.__temp.toString()),r.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+g+","+g+","+g+")",textShadow:this.__input_textShadow+"rgba("+v+","+v+","+v+",.7)"})}});var e=["-moz-","-o-","-webkit-","-ms-",""];function s(l,p,g,v){l.style.background="",r.each(e,function(h){l.style.cssText+="background: "+h+"linear-gradient("+p+", "+g+" 0%, "+v+" 100%); "})}function o(l){l.style.background="",l.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",l.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",l.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",l.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",l.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}return c})(d.controllers.Controller,d.dom.dom,d.color.Color=(function(_,n,t,a){var r=function(){if(this.__state=_.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};r.COMPONENTS=["r","g","b","h","s","v","hex","a"],a.extend(r.prototype,{toString:function(){return t(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),c(r.prototype,"r",2),c(r.prototype,"g",1),c(r.prototype,"b",0),e(r.prototype,"h"),e(r.prototype,"s"),e(r.prototype,"v"),Object.defineProperty(r.prototype,"a",{get:function(){return this.__state.a},set:function(l){this.__state.a=l}}),Object.defineProperty(r.prototype,"hex",{get:function(){return!this.__state.space!=="HEX"&&(this.__state.hex=n.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(l){this.__state.space="HEX",this.__state.hex=l}});function c(l,p,g){Object.defineProperty(l,p,{get:function(){return this.__state.space==="RGB"?this.__state[p]:(s(this,p,g),this.__state[p])},set:function(v){this.__state.space!=="RGB"&&(s(this,p,g),this.__state.space="RGB"),this.__state[p]=v}})}function e(l,p){Object.defineProperty(l,p,{get:function(){return this.__state.space==="HSV"?this.__state[p]:(o(this),this.__state[p])},set:function(g){this.__state.space!=="HSV"&&(o(this),this.__state.space="HSV"),this.__state[p]=g}})}function s(l,p,g){if(l.__state.space==="HEX")l.__state[p]=n.component_from_hex(l.__state.hex,g);else if(l.__state.space==="HSV")a.extend(l.__state,n.hsv_to_rgb(l.__state.h,l.__state.s,l.__state.v));else throw"Corrupted color state"}function o(l){var p=n.rgb_to_hsv(l.r,l.g,l.b);a.extend(l.__state,{s:p.s,v:p.v}),a.isNaN(p.h)?a.isUndefined(l.__state.h)&&(l.__state.h=0):l.__state.h=p.h}return r})(d.color.interpret,d.color.math=(function(){var _;return{hsv_to_rgb:function(n,t,a){var r=Math.floor(n/60)%6,c=n/60-Math.floor(n/60),e=a*(1-t),s=a*(1-c*t),o=a*(1-(1-c)*t),l=[[a,o,e],[s,a,e],[e,a,o],[e,s,a],[o,e,a],[a,e,s]][r];return{r:l[0]*255,g:l[1]*255,b:l[2]*255}},rgb_to_hsv:function(n,t,a){var r=Math.min(n,t,a),c=Math.max(n,t,a),e=c-r,s,o;if(c!=0)o=e/c;else return{h:NaN,s:0,v:0};return n==c?s=(t-a)/e:t==c?s=2+(a-n)/e:s=4+(n-t)/e,s/=6,s<0&&(s+=1),{h:s*360,s:o,v:c/255}},rgb_to_hex:function(n,t,a){var r=this.hex_with_component(0,2,n);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,a),r},component_from_hex:function(n,t){return n>>t*8&255},hex_with_component:function(n,t,a){return a<<(_=t*8)|n&~(255<<_)}}})(),d.color.toString,d.utils.common),d.color.interpret,d.utils.common),d.utils.requestAnimationFrame=(function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(_,n){window.setTimeout(_,1e3/60)}})(),d.dom.CenteredDiv=(function(_,n){var t=function(){this.backgroundElement=document.createElement("div"),n.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),_.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),n.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var a=this;_.bind(this.backgroundElement,"click",function(){a.hide()})};return t.prototype.show=function(){var a=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),n.defer(function(){a.backgroundElement.style.opacity=1,a.domElement.style.opacity=1,a.domElement.style.webkitTransform="scale(1)"})},t.prototype.hide=function(){var a=this,r=function(){a.domElement.style.display="none",a.backgroundElement.style.display="none",_.unbind(a.domElement,"webkitTransitionEnd",r),_.unbind(a.domElement,"transitionend",r),_.unbind(a.domElement,"oTransitionEnd",r)};_.bind(this.domElement,"webkitTransitionEnd",r),_.bind(this.domElement,"transitionend",r),_.bind(this.domElement,"oTransitionEnd",r),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},t.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-_.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-_.getHeight(this.domElement)/2+"px"},t})(d.dom.dom,d.utils.common),d.dom.dom,d.utils.common),Y.exports}var J={exports:{}},te;function ce(){if(te)return J.exports;te=1;var d=J.exports=d||{};return d.color=d.color||{},d.utils=d.utils||{},d.utils.common=(function(){var _=Array.prototype.forEach,n=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(n.call(arguments,1),function(a){for(var r in a)this.isUndefined(a[r])||(t[r]=a[r])},this),t},defaults:function(t){return this.each(n.call(arguments,1),function(a){for(var r in a)this.isUndefined(t[r])&&(t[r]=a[r])},this),t},compose:function(){var t=n.call(arguments);return function(){for(var a=n.call(arguments),r=t.length-1;r>=0;r--)a=[t[r].apply(this,a)];return a[0]}},each:function(t,a,r){if(_&&t.forEach===_)t.forEach(a,r);else if(t.length===t.length+0){for(var c=0,e=t.length;c<e;c++)if(c in t&&a.call(r,t[c],c)===this.BREAK)return}else for(var c in t)if(a.call(r,t[c],c)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():n.call(t)},isUndefined:function(t){return t===void 0},isNull:function(t){return t===null},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return Object.prototype.toString.call(t)==="[object Function]"}}})(),d.color.toString=(function(_){return function(n){if(n.a==1||_.isUndefined(n.a)){for(var t=n.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}else return"rgba("+Math.round(n.r)+","+Math.round(n.g)+","+Math.round(n.b)+","+n.a+")"}})(d.utils.common),d.Color=d.color.Color=(function(_,n,t,a){var r=function(){if(this.__state=_.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};r.COMPONENTS=["r","g","b","h","s","v","hex","a"],a.extend(r.prototype,{toString:function(){return t(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),c(r.prototype,"r",2),c(r.prototype,"g",1),c(r.prototype,"b",0),e(r.prototype,"h"),e(r.prototype,"s"),e(r.prototype,"v"),Object.defineProperty(r.prototype,"a",{get:function(){return this.__state.a},set:function(l){this.__state.a=l}}),Object.defineProperty(r.prototype,"hex",{get:function(){return!this.__state.space!=="HEX"&&(this.__state.hex=n.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(l){this.__state.space="HEX",this.__state.hex=l}});function c(l,p,g){Object.defineProperty(l,p,{get:function(){return this.__state.space==="RGB"?this.__state[p]:(s(this,p,g),this.__state[p])},set:function(v){this.__state.space!=="RGB"&&(s(this,p,g),this.__state.space="RGB"),this.__state[p]=v}})}function e(l,p){Object.defineProperty(l,p,{get:function(){return this.__state.space==="HSV"?this.__state[p]:(o(this),this.__state[p])},set:function(g){this.__state.space!=="HSV"&&(o(this),this.__state.space="HSV"),this.__state[p]=g}})}function s(l,p,g){if(l.__state.space==="HEX")l.__state[p]=n.component_from_hex(l.__state.hex,g);else if(l.__state.space==="HSV")a.extend(l.__state,n.hsv_to_rgb(l.__state.h,l.__state.s,l.__state.v));else throw"Corrupted color state"}function o(l){var p=n.rgb_to_hsv(l.r,l.g,l.b);a.extend(l.__state,{s:p.s,v:p.v}),a.isNaN(p.h)?a.isUndefined(l.__state.h)&&(l.__state.h=0):l.__state.h=p.h}return r})(d.color.interpret=(function(_,n){var t,a,r=function(){a=!1;var e=arguments.length>1?n.toArray(arguments):arguments[0];return n.each(c,function(s){if(s.litmus(e))return n.each(s.conversions,function(o,l){if(t=o.read(e),a===!1&&t!==!1)return a=t,t.conversionName=l,t.conversion=o,n.BREAK}),n.BREAK}),a},c=[{litmus:n.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var s=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return s===null?!1:{space:"HEX",hex:parseInt("0x"+s[1].toString()+s[1].toString()+s[2].toString()+s[2].toString()+s[3].toString()+s[3].toString())}},write:_},SIX_CHAR_HEX:{read:function(e){var s=e.match(/^#([A-F0-9]{6})$/i);return s===null?!1:{space:"HEX",hex:parseInt("0x"+s[1].toString())}},write:_},CSS_RGB:{read:function(e){var s=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return s===null?!1:{space:"RGB",r:parseFloat(s[1]),g:parseFloat(s[2]),b:parseFloat(s[3])}},write:_},CSS_RGBA:{read:function(e){var s=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return s===null?!1:{space:"RGB",r:parseFloat(s[1]),g:parseFloat(s[2]),b:parseFloat(s[3]),a:parseFloat(s[4])}},write:_}}},{litmus:n.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:n.isArray,conversions:{RGB_ARRAY:{read:function(e){return e.length!=3?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return e.length!=4?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:n.isObject,conversions:{RGBA_OBJ:{read:function(e){return n.isNumber(e.r)&&n.isNumber(e.g)&&n.isNumber(e.b)&&n.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return n.isNumber(e.r)&&n.isNumber(e.g)&&n.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return n.isNumber(e.h)&&n.isNumber(e.s)&&n.isNumber(e.v)&&n.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return n.isNumber(e.h)&&n.isNumber(e.s)&&n.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return r})(d.color.toString,d.utils.common),d.color.math=(function(){var _;return{hsv_to_rgb:function(n,t,a){var r=Math.floor(n/60)%6,c=n/60-Math.floor(n/60),e=a*(1-t),s=a*(1-c*t),o=a*(1-(1-c)*t),l=[[a,o,e],[s,a,e],[e,a,o],[e,s,a],[o,e,a],[a,e,s]][r];return{r:l[0]*255,g:l[1]*255,b:l[2]*255}},rgb_to_hsv:function(n,t,a){var r=Math.min(n,t,a),c=Math.max(n,t,a),e=c-r,s,o;if(c!=0)o=e/c;else return{h:NaN,s:0,v:0};return n==c?s=(t-a)/e:t==c?s=2+(a-n)/e:s=4+(n-t)/e,s/=6,s<0&&(s+=1),{h:s*360,s:o,v:c/255}},rgb_to_hex:function(n,t,a){var r=this.hex_with_component(0,2,n);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,a),r},component_from_hex:function(n,t){return n>>t*8&255},hex_with_component:function(n,t,a){return a<<(_=t*8)|n&~(255<<_)}}})(),d.color.toString,d.utils.common),J.exports}var ne;function he(){return ne||(ne=1,G.exports=fe(),G.exports.color=ce()),G.exports}var pe=he();export{_e as S,pe as d};
//# sourceMappingURL=vendor-ui-Bx4GEC4M.js.map
