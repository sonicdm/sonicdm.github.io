{"version":3,"file":"vendor-utils-DFm-itqf.js","sources":["../../node_modules/mouse-change/mouse-listen.js"],"sourcesContent":["'use strict'\n\nmodule.exports = mouseListen\n\nvar mouse = require('mouse-event')\n\nfunction mouseListen (element, callback) {\n  if (!callback) {\n    callback = element\n    element = window\n  }\n\n  var buttonState = 0\n  var x = 0\n  var y = 0\n  var mods = {\n    shift: false,\n    alt: false,\n    control: false,\n    meta: false\n  }\n  var attached = false\n\n  function updateMods (ev) {\n    var changed = false\n    if ('altKey' in ev) {\n      changed = changed || ev.altKey !== mods.alt\n      mods.alt = !!ev.altKey\n    }\n    if ('shiftKey' in ev) {\n      changed = changed || ev.shiftKey !== mods.shift\n      mods.shift = !!ev.shiftKey\n    }\n    if ('ctrlKey' in ev) {\n      changed = changed || ev.ctrlKey !== mods.control\n      mods.control = !!ev.ctrlKey\n    }\n    if ('metaKey' in ev) {\n      changed = changed || ev.metaKey !== mods.meta\n      mods.meta = !!ev.metaKey\n    }\n    return changed\n  }\n\n  function handleEvent (nextButtons, ev) {\n    var nextX = mouse.x(ev)\n    var nextY = mouse.y(ev)\n    if ('buttons' in ev) {\n      nextButtons = ev.buttons | 0\n    }\n    if (nextButtons !== buttonState ||\n      nextX !== x ||\n      nextY !== y ||\n      updateMods(ev)) {\n      buttonState = nextButtons | 0\n      x = nextX || 0\n      y = nextY || 0\n      callback && callback(buttonState, x, y, mods)\n    }\n  }\n\n  function clearState (ev) {\n    handleEvent(0, ev)\n  }\n\n  function handleBlur () {\n    if (buttonState ||\n      x ||\n      y ||\n      mods.shift ||\n      mods.alt ||\n      mods.meta ||\n      mods.control) {\n      x = y = 0\n      buttonState = 0\n      mods.shift = mods.alt = mods.control = mods.meta = false\n      callback && callback(0, 0, 0, mods)\n    }\n  }\n\n  function handleMods (ev) {\n    if (updateMods(ev)) {\n      callback && callback(buttonState, x, y, mods)\n    }\n  }\n\n  function handleMouseMove (ev) {\n    if (mouse.buttons(ev) === 0) {\n      handleEvent(0, ev)\n    } else {\n      handleEvent(buttonState, ev)\n    }\n  }\n\n  function handleMouseDown (ev) {\n    handleEvent(buttonState | mouse.buttons(ev), ev)\n  }\n\n  function handleMouseUp (ev) {\n    handleEvent(buttonState & ~mouse.buttons(ev), ev)\n  }\n\n  function attachListeners () {\n    if (attached) {\n      return\n    }\n    attached = true\n\n    element.addEventListener('mousemove', handleMouseMove)\n\n    element.addEventListener('mousedown', handleMouseDown)\n\n    element.addEventListener('mouseup', handleMouseUp)\n\n    element.addEventListener('mouseleave', clearState)\n    element.addEventListener('mouseenter', clearState)\n    element.addEventListener('mouseout', clearState)\n    element.addEventListener('mouseover', clearState)\n\n    element.addEventListener('blur', handleBlur)\n\n    element.addEventListener('keyup', handleMods)\n    element.addEventListener('keydown', handleMods)\n    element.addEventListener('keypress', handleMods)\n\n    if (element !== window) {\n      window.addEventListener('blur', handleBlur)\n\n      window.addEventListener('keyup', handleMods)\n      window.addEventListener('keydown', handleMods)\n      window.addEventListener('keypress', handleMods)\n    }\n  }\n\n  function detachListeners () {\n    if (!attached) {\n      return\n    }\n    attached = false\n\n    element.removeEventListener('mousemove', handleMouseMove)\n\n    element.removeEventListener('mousedown', handleMouseDown)\n\n    element.removeEventListener('mouseup', handleMouseUp)\n\n    element.removeEventListener('mouseleave', clearState)\n    element.removeEventListener('mouseenter', clearState)\n    element.removeEventListener('mouseout', clearState)\n    element.removeEventListener('mouseover', clearState)\n\n    element.removeEventListener('blur', handleBlur)\n\n    element.removeEventListener('keyup', handleMods)\n    element.removeEventListener('keydown', handleMods)\n    element.removeEventListener('keypress', handleMods)\n\n    if (element !== window) {\n      window.removeEventListener('blur', handleBlur)\n\n      window.removeEventListener('keyup', handleMods)\n      window.removeEventListener('keydown', handleMods)\n      window.removeEventListener('keypress', handleMods)\n    }\n  }\n\n  // Attach listeners\n  attachListeners()\n\n  var result = {\n    element: element\n  }\n\n  Object.defineProperties(result, {\n    enabled: {\n      get: function () { return attached },\n      set: function (f) {\n        if (f) {\n          attachListeners()\n        } else {\n          detachListeners()\n        }\n      },\n      enumerable: true\n    },\n    buttons: {\n      get: function () { return buttonState },\n      enumerable: true\n    },\n    x: {\n      get: function () { return x },\n      enumerable: true\n    },\n    y: {\n      get: function () { return y },\n      enumerable: true\n    },\n    mods: {\n      get: function () { return mods },\n      enumerable: true\n    }\n  })\n\n  return result\n}\n"],"names":["mouseListen_1","mouseListen","mouse","require$$0","element","callback","buttonState","x","y","mods","attached","updateMods","ev","changed","handleEvent","nextButtons","nextX","nextY","clearState","handleBlur","handleMods","handleMouseMove","handleMouseDown","handleMouseUp","attachListeners","detachListeners","result","f"],"mappings":"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","x_google_ignoreList":[0]}